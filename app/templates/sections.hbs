{{page-title "Sections"}}
<h1>Store</h1>
<button {{action "board"}} class="ui black button">Retour au table de bord</button>
<fieldset>
    <legend>Gestion des sections</legend>
    <div class="ui container">
      <button {{action "addSection"}} class="ui black button"><i class="plus icon"></i> Nouvelle section ...</button>
      <button {{action "addProduct"}} class="ui black button"><i class="plus icon"></i> Nouveau produit ...</button>
      {{outlet "addProduct/SectionOutlet"}}
      <label for="filterSections">Sections ({{@model.length}})</label>
      <Input
              @id="filterSections"
              @type="text"
              @value="Filtrer la section">
      </Input>

      <div class="ui table">
        <div class="ui relaxed divided list">
        {{#each @model as |section|}}
          <div class="item">
            <div class="content">
              <div class="header"> <strong>{{section.name}} <span class="ui circular label">{{section.products.length}}</span></strong></div>
              {{section.description}}
            </div>
            <LinkTo {{action "resetEdit" section.id}} @route="sections.edit" @model={{section.id}} class="ui tiny orange button"><i class="edit icon"></i></LinkTo>
            <LinkTo {{action "resetDelete" section.id}} @route="sections.delete" @model={{section.id}} class="ui tiny inverted red button"><i class="trash icon"></i></LinkTo>
            {{outlet section.id}}
          </div>
        {{/each}}
        </div>
      </div>
    </div>
</fieldset>